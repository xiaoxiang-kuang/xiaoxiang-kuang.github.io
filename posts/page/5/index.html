<!DOCTYPE html>
<html dir="ltr">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0">
<meta name="theme-color" content="#FFFFFF">
<meta name="color-scheme" content="light dark">

<title>主页 | 小象的blog</title>
<link rel="manifest" href="/manifest.json">
<link rel="icon" href="/favicon.png" type="image/x-icon">
<link rel="stylesheet" href="/book.min.e24d94cf619e7e6705439036ee43e77f243d24ac89100b59375379bc4d659d87.css" >
  <script defer src="/sw.min.6f6f90fcb8eb1c49ec389838e6b801d0de19430b8e516902f8d75c3c8bd98739.js" ></script>
<link rel="alternate" type="application/rss+xml" href="/posts/index.xml" title="小象的blog" />
<!--
Made with Book Theme
https://github.com/alex-shpak/hugo-book
-->
</head>
<body dir="ltr">
  <input type="checkbox" class="hidden toggle" id="toc-control" />
  <main class="container flex">

    <aside class="book-menu">
      <div class="book-menu-content">
        
  <nav>
<h2 class="book-brand">
  <a class="flex align-center" href="/"><img src="/logo.png" alt="Logo" /><span>小象的blog</span>
  </a>
</h2>


















  
<ul>
  
  <li>
    <a href="/posts/">
        主页
      </a>
  </li>
  
  <li>
    <a href="/posts/linux/linux%E5%91%BD%E4%BB%A4/">
        linux命令总结
      </a>
  </li>
  
  <li>
    <a href="/posts/linux/shell%E8%84%9A%E6%9C%AC/">
        shell脚本
      </a>
  </li>
  
  <li>
    <a href="/categories/book/">
        书籍笔记
      </a>
  </li>
  
  <li>
    <a href="/about/">
        关于
      </a>
  </li>
  
</ul>





</nav>




  <script>(function(){var e=document.querySelector("aside .book-menu-content");addEventListener("beforeunload",function(){localStorage.setItem("menu.scrollTop",e.scrollTop)}),e.scrollTop=localStorage.getItem("menu.scrollTop")})()</script>


  <div class="split-line"></div>
  
  
<nav>
  <ul>
  
    
	  
	
  
    
	  
		
		  <li>
			<a href="/tags/bios/"  class="flex justify-between">
			  <span>bios</span>
			  <span>10</span>
			</a>
		  </li>
		
		  <li>
			<a href="/tags/%E5%85%B6%E4%BB%96/"  class="flex justify-between">
			  <span>其他</span>
			  <span>4</span>
			</a>
		  </li>
		
		  <li>
			<a href="/tags/c%E8%AF%AD%E8%A8%80/"  class="flex justify-between">
			  <span>c语言</span>
			  <span>6</span>
			</a>
		  </li>
		
		  <li>
			<a href="/tags/linux/"  class="flex justify-between">
			  <span>linux</span>
			  <span>10</span>
			</a>
		  </li>
		
		  <li>
			<a href="/tags/%E4%BF%A1%E6%81%AF%E5%AE%89%E5%85%A8/"  class="flex justify-between">
			  <span>信息安全</span>
			  <span>4</span>
			</a>
		  </li>
		
		  <li>
			<a href="/tags/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/"  class="flex justify-between">
			  <span>计算机网络</span>
			  <span>7</span>
			</a>
		  </li>
		
		  <li>
			<a href="/tags/java/"  class="flex justify-between">
			  <span>java</span>
			  <span>53</span>
			</a>
		  </li>
		
		  <li>
			<a href="/tags/nginx/"  class="flex justify-between">
			  <span>nginx</span>
			  <span>5</span>
			</a>
		  </li>
		
		  <li>
			<a href="/tags/%E6%95%B0%E6%8D%AE%E5%BA%93/"  class="flex justify-between">
			  <span>数据库</span>
			  <span>7</span>
			</a>
		  </li>
		
		  <li>
			<a href="/tags/%E5%89%8D%E7%AB%AF/"  class="flex justify-between">
			  <span>前端</span>
			  <span>4</span>
			</a>
		  </li>
		
		  <li>
			<a href="/tags/http/"  class="flex justify-between">
			  <span>http</span>
			  <span>7</span>
			</a>
		  </li>
		
		  <li>
			<a href="/tags/python/"  class="flex justify-between">
			  <span>python</span>
			  <span>6</span>
			</a>
		  </li>
		
		  <li>
			<a href="/tags/git/"  class="flex justify-between">
			  <span>git</span>
			  <span>1</span>
			</a>
		  </li>
		
		  <li>
			<a href="/tags/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/"  class="flex justify-between">
			  <span>设计模式</span>
			  <span>10</span>
			</a>
		  </li>
		
		  <li>
			<a href="/tags/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/"  class="flex justify-between">
			  <span>数据结构</span>
			  <span>7</span>
			</a>
		  </li>
		
		  <li>
			<a href="/tags/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/"  class="flex justify-between">
			  <span>操作系统</span>
			  <span>5</span>
			</a>
		  </li>
		
		  <li>
			<a href="/tags/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BB%84%E6%88%90%E5%8E%9F%E7%90%86/"  class="flex justify-between">
			  <span>计算机组成原理</span>
			  <span>1</span>
			</a>
		  </li>
		
      
	
  
  </ul>
</nav>


 
      </div>
    </aside>

    <div class="book-page">
      <div>
	      <header class="book-header">
          
  <div class="flex align-center justify-between">
   <label for="toc-control">
    
    <img src="/svg/toc.svg" class="book-icon" alt="Table of Contents" />
    
  </label>
  
  <strong>主页</strong>
</div>


  
    <aside class="hidden clearfix">
      <nav>
        




        








        

  
<ul>
  
  <li>
    <a href="/posts/">
        主页
      </a>
  </li>
  
  <li>
    <a href="/posts/linux/linux%E5%91%BD%E4%BB%A4/">
        linux命令总结
      </a>
  </li>
  
  <li>
    <a href="/posts/linux/shell%E8%84%9A%E6%9C%AC/">
        shell脚本
      </a>
  </li>
  
  <li>
    <a href="/categories/book/">
        书籍笔记
      </a>
  </li>
  
  <li>
    <a href="/about/">
        关于
      </a>
  </li>
  
</ul>





      </nav>
      <div class="split-line"></div>
      
  
<nav>
  <ul>
  
    
	  
	
  
    
	  
		
		  <li>
			<a href="/tags/bios/"  class="flex justify-between">
			  <span>bios</span>
			  <span>10</span>
			</a>
		  </li>
		
		  <li>
			<a href="/tags/%E5%85%B6%E4%BB%96/"  class="flex justify-between">
			  <span>其他</span>
			  <span>4</span>
			</a>
		  </li>
		
		  <li>
			<a href="/tags/c%E8%AF%AD%E8%A8%80/"  class="flex justify-between">
			  <span>c语言</span>
			  <span>6</span>
			</a>
		  </li>
		
		  <li>
			<a href="/tags/linux/"  class="flex justify-between">
			  <span>linux</span>
			  <span>10</span>
			</a>
		  </li>
		
		  <li>
			<a href="/tags/%E4%BF%A1%E6%81%AF%E5%AE%89%E5%85%A8/"  class="flex justify-between">
			  <span>信息安全</span>
			  <span>4</span>
			</a>
		  </li>
		
		  <li>
			<a href="/tags/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/"  class="flex justify-between">
			  <span>计算机网络</span>
			  <span>7</span>
			</a>
		  </li>
		
		  <li>
			<a href="/tags/java/"  class="flex justify-between">
			  <span>java</span>
			  <span>53</span>
			</a>
		  </li>
		
		  <li>
			<a href="/tags/nginx/"  class="flex justify-between">
			  <span>nginx</span>
			  <span>5</span>
			</a>
		  </li>
		
		  <li>
			<a href="/tags/%E6%95%B0%E6%8D%AE%E5%BA%93/"  class="flex justify-between">
			  <span>数据库</span>
			  <span>7</span>
			</a>
		  </li>
		
		  <li>
			<a href="/tags/%E5%89%8D%E7%AB%AF/"  class="flex justify-between">
			  <span>前端</span>
			  <span>4</span>
			</a>
		  </li>
		
		  <li>
			<a href="/tags/http/"  class="flex justify-between">
			  <span>http</span>
			  <span>7</span>
			</a>
		  </li>
		
		  <li>
			<a href="/tags/python/"  class="flex justify-between">
			  <span>python</span>
			  <span>6</span>
			</a>
		  </li>
		
		  <li>
			<a href="/tags/git/"  class="flex justify-between">
			  <span>git</span>
			  <span>1</span>
			</a>
		  </li>
		
		  <li>
			<a href="/tags/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/"  class="flex justify-between">
			  <span>设计模式</span>
			  <span>10</span>
			</a>
		  </li>
		
		  <li>
			<a href="/tags/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/"  class="flex justify-between">
			  <span>数据结构</span>
			  <span>7</span>
			</a>
		  </li>
		
		  <li>
			<a href="/tags/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/"  class="flex justify-between">
			  <span>操作系统</span>
			  <span>5</span>
			</a>
		  </li>
		
		  <li>
			<a href="/tags/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BB%84%E6%88%90%E5%8E%9F%E7%90%86/"  class="flex justify-between">
			  <span>计算机组成原理</span>
			  <span>1</span>
			</a>
		  </li>
		
      
	
  
  </ul>
</nav>


    </aside>
  
 
        </header>
        
  
  <article class="markdown book-post">
    <h2>
      <a href="/posts/%E5%89%8D%E7%AB%AF/css-flex/">CSS Flex</a>
    </h2>
    
  <h5>2022-01-04</h5>



  

  
  <div>
    
      <a href="/tags/%E5%89%8D%E7%AB%AF/">前端</a>
  </div>
  




    <p><h2 id="flexbox的轴线">
  flexbox的轴线
  <a class="anchor" href="#flexbox%e7%9a%84%e8%bd%b4%e7%ba%bf">#</a>
</h2>
<ul>
<li>使用flex布局时，flex有两根轴线：主轴和交叉轴，主轴由flex-direction定义，另一根轴垂直于它。</li>
</ul>
<h3 id="主轴">
  主轴
  <a class="anchor" href="#%e4%b8%bb%e8%bd%b4">#</a>
</h3>
<ul>
<li>主轴由flex-direction定义，有四个值：
<ul>
<li>row</li>
<li>row-reverse</li>
<li>column</li>
<li>column-reverse</li>
</ul>
</li>
<li>当选择了row或者row-reverse，主轴将沿着水平方向延伸。</li>
</ul>
<p>
  <img src="/img/%e5%89%8d%e7%ab%af/css-flex/1.png" alt="" /></p>
<ul>
<li>当选择了column或者column-reverse，主轴就会沿着上下方向延伸。</li>
</ul>
<p>
  <img src="/img/%e5%89%8d%e7%ab%af/css-flex/2.png" alt="" /></p>
<h3 id="交叉轴">
  交叉轴
  <a class="anchor" href="#%e4%ba%a4%e5%8f%89%e8%bd%b4">#</a>
</h3>
<ul>
<li>交叉轴始终垂直于主轴。</li>
</ul>
<h3 id="起始线和终止线">
  起始线和终止线
  <a class="anchor" href="#%e8%b5%b7%e5%a7%8b%e7%ba%bf%e5%92%8c%e7%bb%88%e6%ad%a2%e7%ba%bf">#</a>
</h3>
<ul>
<li>如果flex-direction是row，那么主轴的起始线是左边，终止线是右边。</li>
</ul>
<p>
  <img src="/img/%e5%89%8d%e7%ab%af/css-flex/3.png" alt="" /></p>
<h2 id="flex容器">
  flex容器
  <a class="anchor" href="#flex%e5%ae%b9%e5%99%a8">#</a>
</h2>
<ul>
<li>采用了flexbox的区域就叫做flex容器，通过将一个标签的display属性改为<code>flex</code>或<code>inline-flex</code>来创建一个flex容器，这样容器内的直系子元素就会变成flex元素。所有的css属性都会有一个初始行为（假设元素未设置width、height、margin等属性）：
<ul>
<li>元素排列成一行（flex-direction属性的初始值为row）。</li>
<li>元素从主轴线的起始线开始。</li>
<li>元素不会在主轴方向不会被拉伸，但可能会缩小。</li>
<li>元素会被拉伸来填充交叉轴的大小。</li>
<li>flex-basis的属性为auto。</li>
<li>flex-wrap属性为nowrap。</li>
</ul>
</li>
</ul>
<h3 id="flex-wrap实现多行flex容器">
  flex-wrap实现多行flex容器
  <a class="anchor" href="#flex-wrap%e5%ae%9e%e7%8e%b0%e5%a4%9a%e8%a1%8cflex%e5%ae%b9%e5%99%a8">#</a>
</h3>
<ul>
<li>当项目太大而无法全部显示在一行中，添加<code>flex-wrap:wrap</code>，项目就会换行显示。这样每一行都相当于是一个新的flex容器，在该行上发生的空间分布不会影响其他行。</li>
<li>当<code>flew-wrap</code>设置为<code>unwrap</code>，所有的flex元素都不会换行，它们将缩小以适配容器。如果项目的子元素无法缩小，使用<code>nowrap</code>会导致溢出。</li>
</ul>
<h3 id="flex-flow">
  flex-flow
  <a class="anchor" href="#flex-flow">#</a>
</h3>
<ul>
<li><code>flex-direction</code>和<code>flex-wrap</code>可以组合简写为属性<code>flex-flow</code>第一个值为<code>flex-direction</code>，第二个值为<code>flex-wrap</code>。如<code>flex-flow: row wrap</code>。</li>
</ul>
<h3 id="align-items">
  align-items
  <a class="anchor" href="#align-items">#</a>
</h3>
<ul>
<li><code>align-items</code>设置元素在交叉轴方向上对齐，默认值为<code>stretch</code>。</li>
<li>相应的值：
<ul>
<li><code>stretch</code>  拉伸以贴到交叉轴的起始线和终止线。</li>
<li><code>flex-start</code> 贴着交叉轴的起始线。</li>
<li><code>flex-end</code> 贴着交叉轴的终止线。</li>
<li><code>center</code> 交叉轴方向上居中。</li>
<li><code>baseline</code></li>
</ul>
</li>
</ul>
<p>图中<code>flex-direction: row</code>。</p>
<p>
  <img src="/img/%e5%89%8d%e7%ab%af/css-flex/4.png" alt="" /></p>
<h3 id="justify-content">
  justify-content
  <a class="anchor" href="#justify-content">#</a>
</h3>
<ul>
<li><code>justify-content</code>属性用来使元素在主轴方向上对齐，默认值是<code>flex-start</code>。</li>
<li>相应的值：
<ul>
<li><code>stretch</code></li>
<li><code>flex-start</code> 沿着主轴的起始线对齐。</li>
<li><code>flex-end</code> 沿着主轴的终止线对齐。</li>
<li><code>center</code> 主轴方向上居中</li>
<li><code>space-around</code> 使每个元素的左右空间相等，第一个和最后一个元素距离起始线和终止线的距离是其他元素间隔的1/2。</li>
<li><code>space-between</code> 使每个元素的左右空间相等，第一个和最后一个元素贴上起始线和终止线。</li>
</ul>
</li>
</ul>
<p>图中<code>flex-direction: row</code>。</p>
<p>
  <img src="/img/%e5%89%8d%e7%ab%af/css-flex/5.png" alt="" /></p>
<h2 id="flex元素">
  flex元素
  <a class="anchor" href="#flex%e5%85%83%e7%b4%a0">#</a>
</h2>
<ul>
<li>flex容器里除了元素所占的空间以外的空间就是<strong>可用空间</strong>。</li>
</ul>
<h3 id="flex-basis">
  flex-basis
  <a class="anchor" href="#flex-basis">#</a>
</h3>
<ul>
<li>flex-basis定义了该元素的空间大小，该属性的默认值是元素内容的尺寸（auto）。</li>
</ul>
<h3 id="flex-grow">
  flex-grow
  <a class="anchor" href="#flex-grow">#</a>
</h3>
<ul>
<li>
<p>处理flex元素在主轴上增加空间的问题。</p>
</li>
<li>
<p>该值被设定为一个正数时，flex会以flex-basis为基础，按照比例沿着主轴方向扩展尺寸。</p>
</li>
<li>
<p>当给flex中所有的元素设定flex-grow为1时，容器中的可用空间会被这些元素平分，他们会延展以填充主轴方向上的空间。</p>
</li>
</ul>
<h3 id="flex-shrink">
  flex-shrink
  <a class="anchor" href="#flex-shrink">#</a>
</h3>
<ul>
<li>处理flex元素在主轴上收缩的问题。</li>
<li>如果容器中没有足够排列flex元素的空间，就可以设置flex-shrink属性为正整数来缩小它占用的空间到flex-shrink以下。</li>
<li>给flex-shrink属性更大的数值可以比赋值小数值的同级元素收缩程度更大。</li>
</ul>
<h3 id="flex属性的简写">
  flex属性的简写
  <a class="anchor" href="#flex%e5%b1%9e%e6%80%a7%e7%9a%84%e7%ae%80%e5%86%99">#</a>
</h3>
<ul>
<li><code>flex-grow、flex-shrink、flex-basis</code>可以简写为flex，顺序也是<code>flex-grow、flex-shrink、flex-basis</code>。</li>
<li><code>flex</code>有预定义的简写形式：
<ul>
<li><code>flex:initial</code> 相当于<code>flex: 0 1 auto</code> ，<code>flex-grow</code>的值为0，所以flex元素不会超过他们的<code>flex-basis</code>尺寸，<code>flex-shrink</code>为1，可以缩小flex元素来防止他们溢出。</li>
<li><code>flex: auto</code> 相当于<code>flex: 1 1 auto</code>，和上面的<code>flex: initial</code>基本相同，但是flex元素在需要的时候既可以拉伸也可以伸缩。</li>
<li><code>flex: none</code> 相当于<code>flex: 0 0 auto</code>，元素既不能拉伸也不能收缩。</li>
<li><code>flex: 1</code>或<code>flex: 2</code> 相当于<code>flex: 1 1 0</code>。</li>
</ul>
</li>
</ul>
<h3 id="align-self">
  align-self
  <a class="anchor" href="#align-self">#</a>
</h3>
<ul>
<li><code>align-self</code>设置元素在交叉轴方向上的排列方式，会覆盖已有的<code>align-items</code>元素。</li>
<li>值：
<ul>
<li><code>auto</code>设置为父元素的<code>align-items</code>的值</li>
<li><code>stretch</code> 拉伸贴上交叉轴的起始线和终止线。</li>
<li><code>center</code> 交叉轴方向上居中。</li>
<li><code>flex-start</code> 贴上交叉轴起始线。</li>
<li><code>flex-end</code>  贴上交叉轴终止线。</li>
</ul>
</li>
</ul>
<p>参考链接：
  <a href="https://developer.mozilla.org/zh-CN/docs/Web/CSS/CSS_Flexible_Box_Layout/Basic_Concepts_of_Flexbox">flex 布局的基本概念 - CSS（层叠样式表） | MDN (mozilla.org)</a></p>
<p>参考链接：
  <a href="http://www.ruanyifeng.com/blog/2015/07/flex-grammar.html?utm_source=tuicool">Flex 布局教程：语法篇 - 阮一峰的网络日志 (ruanyifeng.com)</a></p>
    </p>
  </article>
  
  <article class="markdown book-post">
    <h2>
      <a href="/posts/%E5%85%B6%E4%BB%96/hugo%E6%A8%A1%E6%9D%BF/">Hugo模板</a>
    </h2>
    
  <h5>2022-01-03</h5>



  

  
  <div>
    
      <a href="/tags/%E5%85%B6%E4%BB%96/">其他</a>
  </div>
  




    <p><ul>
<li>
<p>hugo使用go的&quot;html/template&quot;和&quot;text/template&quot;库作为模板的基础。</p>
</li>
<li>
<p>go模板是添加了变量和函数的html文件。他们都被包裹在<code>{{}}</code>中。</p>
</li>
<li>
<p>一个预定义的变量可以是已存在在当前的作用域中或者是一个自定义的变量。</p>
</li>
<li>
<p>多个函数的参数可以使用空格分开，类似与<code>{{ add 1 2 }}</code>（add函数接收1和2这两个参数）。</p>
</li>
<li>
<p>方法和函数可以通过<code>.</code>来访问访问。如获取在文章front matter中定义的bar<code>{{ .Params.bar }}</code></p>
</li>
<li>
<p>圆括号可以用来将items组合在一起<code>{{ if or (isset .Params &quot;alt&quot;) (isset .Params &quot;caption&quot;) }} Caption {{ end }}</code></p>
</li>
<li>
<p>原始字符可以包含换行。</p>
</li>
</ul>
<h2 id="变量">
  变量
  <a class="anchor" href="#%e5%8f%98%e9%87%8f">#</a>
</h2>
<ul>
<li>在hugo中，每个模板都有一个Page对象，.Title是Page的一个元素之一。当Page是模板的默认作用域时，title可以通过<code>.</code>直接来带哦用<code>{{.Title }}</code>。</li>
<li>自定义变量需要有<code>$</code>前缀。</li>
<li>变量可以存储在自定义变量中并在稍后被引用。</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span>{{ <span style="color:#960050;background-color:#1e0010">$</span><span style="color:#a6e22e">address</span> <span style="color:#f92672">:=</span> <span style="color:#e6db74">&#34;123 Main St.&#34;</span>}}
</span></span><span style="display:flex;"><span>{{ <span style="color:#960050;background-color:#1e0010">$</span><span style="color:#a6e22e">address</span> }}
</span></span></code></pre></div><ul>
<li>变量可以使用<code>=</code>来重新定义。</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span>{{ <span style="color:#960050;background-color:#1e0010">$</span><span style="color:#66d9ef">var</span> <span style="color:#f92672">:=</span> <span style="color:#e6db74">&#34;Hugo Page&#34;</span> }}
</span></span><span style="display:flex;"><span>{{ <span style="color:#66d9ef">if</span> .<span style="color:#a6e22e">IsHome</span> }}
</span></span><span style="display:flex;"><span>    {{ <span style="color:#960050;background-color:#1e0010">$</span><span style="color:#66d9ef">var</span> = <span style="color:#e6db74">&#34;Hogo Home&#34;</span> }}
</span></span><span style="display:flex;"><span>{{ <span style="color:#a6e22e">end</span> }}
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">Var</span> <span style="color:#a6e22e">is</span> {{ <span style="color:#960050;background-color:#1e0010">$</span><span style="color:#66d9ef">var</span> }}
</span></span></code></pre></div><h2 id="函数">
  函数
  <a class="anchor" href="#%e5%87%bd%e6%95%b0">#</a>
</h2>
<ul>
<li>go模板只提供了一些基本的函数，但也提供了扩展原始集的机制。</li>
<li>调用函数使用他们的名字跟上需要的参数，参数需要用空格隔开。</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span>{{ <span style="color:#a6e22e">add</span> <span style="color:#ae81ff">1</span> <span style="color:#ae81ff">2</span> }}
</span></span><span style="display:flex;"><span>&lt;!<span style="color:#f92672">--</span><span style="color:#960050;background-color:#1e0010">数字求和，输出</span><span style="color:#ae81ff">3</span><span style="color:#f92672">--</span>&gt;
</span></span><span style="display:flex;"><span>{{ <span style="color:#a6e22e">lt</span> <span style="color:#ae81ff">1</span> <span style="color:#ae81ff">2</span> }}
</span></span><span style="display:flex;"><span>&lt;!<span style="color:#f92672">--</span><span style="color:#960050;background-color:#1e0010">比较大小，输出</span><span style="color:#66d9ef">true</span><span style="color:#f92672">--</span>&gt;
</span></span></code></pre></div><h2 id="includes">
  includes
  <a class="anchor" href="#includes">#</a>
</h2>
<ul>
<li>一个模板中包含另一个模板。</li>
<li>hugo中的模板位置都是在<code>layouts/</code>目录开始。</li>
<li><code>partial</code>函数用来包含部分模板</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span>&lt;!<span style="color:#f92672">--</span><span style="color:#960050;background-color:#1e0010">包含</span><span style="color:#a6e22e">layouts</span><span style="color:#f92672">/</span><span style="color:#a6e22e">partials</span><span style="color:#f92672">/</span><span style="color:#a6e22e">header</span>.<span style="color:#a6e22e">html</span><span style="color:#f92672">--</span>&gt;
</span></span><span style="display:flex;"><span>{{ <span style="color:#a6e22e">partial</span> <span style="color:#e6db74">&#34;header.html&#34;</span> . }}
</span></span></code></pre></div><ul>
<li><code>template</code>函数用来在老版本的hugo中包含模板和用来调用内部模板。</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span>{{ <span style="color:#a6e22e">template</span> <span style="color:#e6db74">&#34;_indernal/opengraph.html&#34;</span> . }}
</span></span></code></pre></div><h2 id="logic">
  logic
  <a class="anchor" href="#logic">#</a>
</h2>
<ul>
<li>使用<code>range</code>来进行迭代。</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span>{{ <span style="color:#66d9ef">range</span> <span style="color:#960050;background-color:#1e0010">$</span><span style="color:#a6e22e">array</span> }}
</span></span><span style="display:flex;"><span>    &lt;!<span style="color:#f92672">--</span>.<span style="color:#960050;background-color:#1e0010">代表$</span><span style="color:#a6e22e">aray</span><span style="color:#960050;background-color:#1e0010">的一个元素</span><span style="color:#f92672">--</span>&gt;
</span></span><span style="display:flex;"><span>    {{ . }}
</span></span><span style="display:flex;"><span>{{ <span style="color:#a6e22e">end</span> }}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>&lt;!<span style="color:#f92672">--</span><span style="color:#960050;background-color:#1e0010">将数组的元素的值赋值给变量</span><span style="color:#f92672">--</span>&gt;
</span></span><span style="display:flex;"><span>{{ <span style="color:#66d9ef">range</span> <span style="color:#960050;background-color:#1e0010">$</span><span style="color:#a6e22e">elem_val</span> <span style="color:#f92672">:=</span> <span style="color:#960050;background-color:#1e0010">$</span><span style="color:#a6e22e">array</span> }}
</span></span><span style="display:flex;"><span>    {{ <span style="color:#960050;background-color:#1e0010">$</span><span style="color:#a6e22e">elem_val</span> }}
</span></span><span style="display:flex;"><span>{{ <span style="color:#a6e22e">end</span> }}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>&lt;!<span style="color:#f92672">--</span><span style="color:#960050;background-color:#1e0010">将数组的元素的下标和值都复制给变量</span><span style="color:#f92672">--</span>&gt;
</span></span><span style="display:flex;"><span>{{ <span style="color:#66d9ef">range</span> <span style="color:#960050;background-color:#1e0010">$</span><span style="color:#a6e22e">elem_index</span>, <span style="color:#960050;background-color:#1e0010">$</span><span style="color:#a6e22e">elem_val</span> <span style="color:#f92672">:=</span> <span style="color:#960050;background-color:#1e0010">$</span><span style="color:#a6e22e">array</span> }}
</span></span><span style="display:flex;"><span>   {{ <span style="color:#960050;background-color:#1e0010">$</span><span style="color:#a6e22e">elem_index</span> }} <span style="color:#f92672">--</span> {{ <span style="color:#960050;background-color:#1e0010">$</span><span style="color:#a6e22e">elem_val</span> }}
</span></span><span style="display:flex;"><span>{{ <span style="color:#a6e22e">end</span> }}
</span></span></code></pre></div>
    </p>
  </article>
  
  <article class="markdown book-post">
    <h2>
      <a href="/posts/linux/snmp/">snmp</a>
    </h2>
    
  <h5>2021-12-22</h5>



  

  
  <div>
    
      <a href="/tags/linux/">linux</a>
  </div>
  




    <p><h2 id="snmpdconf">
  snmpd.conf
  <a class="anchor" href="#snmpdconf">#</a>
</h2>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-sh" data-lang="sh"><span style="display:flex;"><span><span style="color:#75715e">#建立一个从community到security name的映射，source可以是default、一个IP、一个主机名、或者一个子网（如10.10.10.0/24），source以!开头表示拒绝此source的请求。</span>
</span></span><span style="display:flex;"><span>com2sec -<span style="color:#f92672">[</span>-Cn CONTEXT<span style="color:#f92672">]</span> SECNAME SOURCE COMMUNITY
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#建立从security name到group的一个映射，多个group指令可以指定相同的group名，</span>
</span></span><span style="display:flex;"><span>group GROUP <span style="color:#f92672">{</span>v1|v2c|usm|tsm|ksm<span style="color:#f92672">}</span> SECNAME
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#定义一个view name，type可以是included或者excluded。</span>
</span></span><span style="display:flex;"><span>view VNAME TYPE OID <span style="color:#f92672">[</span>MASK<span style="color:#f92672">]</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#建立一个从group到三个view之一的映射，</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#LEVEL是noauth、auth或priv之一</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#PREFX指定CONTEXT如何被请求匹配，可以是exact、prefix</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#READ和WRITE指定用于GET、SET和TRAP/INFORM 请求的view。</span>
</span></span><span style="display:flex;"><span>access GROUP CONTEXT <span style="color:#f92672">{</span>any|v1|v2c|usm|tsm|ksm<span style="color:#f92672">}</span> LEVEL PREFX READ WRITE NOTIFY
</span></span></code></pre></div><p>连接命令</p>
<pre tabindex="0"><code>#-v版本 -c community
snmpwalk -c nsag -v2c 10.0.1.81 1.3.6.1.2.1.1.1.0
</code></pre>
    </p>
  </article>
  
  <article class="markdown book-post">
    <h2>
      <a href="/posts/%E5%89%8D%E7%AB%AF/vue/">vue</a>
    </h2>
    
  <h5>2021-12-11</h5>



  

  
  <div>
    
      <a href="/tags/%E5%89%8D%E7%AB%AF/">前端</a>
  </div>
  




    <p><ul>
<li>每个vue应用都是通过<code>createApp</code>函数创建一个新的应用实例开始的。</li>
</ul>
<h2 id="模板语法和指令">
  模板语法和指令
  <a class="anchor" href="#%e6%a8%a1%e6%9d%bf%e8%af%ad%e6%b3%95%e5%92%8c%e6%8c%87%e4%bb%a4">#</a>
</h2>
<ul>
<li>Vue.js 使用了基于 HTML 的模板语法，允许开发者声明式地将 DOM 绑定至底层组件实例的数据。</li>
</ul>
<h3 id="插值-msg-">
  插值{{ msg }}
  <a class="anchor" href="#%e6%8f%92%e5%80%bc-msg-">#</a>
</h3>
<ul>
<li><code>{{msg}}</code>会被替代为对应组件实例中 <code>msg</code> 的值。当绑定的组件实例上 <code>msg</code>  发生了改变，插值处的内容都会更新。</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-html" data-lang="html"><span style="display:flex;"><span>&lt;<span style="color:#f92672">span</span>&gt;{{ msg }}&lt;/<span style="color:#f92672">span</span>&gt;
</span></span></code></pre></div><ul>
<li>通过使用 v-once 指令，也能执行一次性地插值，当数据改变时，插值处的内容不会更新。</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-html" data-lang="html"><span style="display:flex;"><span>&lt;<span style="color:#f92672">span</span> <span style="color:#a6e22e">v-once</span>&gt;{{ msg }}&lt;/<span style="color:#f92672">span</span>&gt;
</span></span></code></pre></div><h3 id="v-html">
  v-html
  <a class="anchor" href="#v-html">#</a>
</h3>
<ul>
<li>双大括号会将数据解释为普通文本，为了输出真正的 HTML，需要使用<code>v-html</code> 指令。</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-html" data-lang="html"><span style="display:flex;"><span>&lt;<span style="color:#f92672">div</span> <span style="color:#a6e22e">id</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;example1&#34;</span>&gt;
</span></span><span style="display:flex;"><span>    &lt;<span style="color:#f92672">p</span>&gt;{{ rawHtml }}&lt;/<span style="color:#f92672">p</span>&gt;
</span></span><span style="display:flex;"><span>    &lt;<span style="color:#f92672">span</span> <span style="color:#a6e22e">v-html</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;rawHtml&#34;</span>&gt;&lt;/<span style="color:#f92672">span</span>&gt;
</span></span><span style="display:flex;"><span>&lt;/<span style="color:#f92672">div</span>&gt;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>&lt;<span style="color:#f92672">script</span>&gt;
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">const</span> <span style="color:#a6e22e">RenderHtmlApp</span> <span style="color:#f92672">=</span> {
</span></span><span style="display:flex;"><span>  <span style="color:#a6e22e">data</span>() {
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> {
</span></span><span style="display:flex;"><span>      <span style="color:#a6e22e">rawHtml</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;&lt;span style=&#34;color: red&#34;&gt;This should be red.&lt;/span&gt;&#39;</span>
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>  }
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">Vue</span>.<span style="color:#a6e22e">createApp</span>(<span style="color:#a6e22e">RenderHtmlApp</span>).<span style="color:#a6e22e">mount</span>(<span style="color:#e6db74">&#39;#example1&#39;</span>)
</span></span><span style="display:flex;"><span>&lt;/<span style="color:#f92672">script</span>&gt;
</span></span></code></pre></div><h3 id="v-bind">
  v-bind
  <a class="anchor" href="#v-bind">#</a>
</h3>
<ul>
<li><code>v-bind</code>可以动态的设置标签的属性。</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-html" data-lang="html"><span style="display:flex;"><span>&lt;<span style="color:#f92672">div</span> <span style="color:#a6e22e">v-bind:id</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;dynamicId&#34;</span>&gt;&lt;/<span style="color:#f92672">div</span>&gt;
</span></span><span style="display:flex;"><span><span style="color:#75715e">&lt;!--等同于--&gt;</span>
</span></span><span style="display:flex;"><span>&lt;<span style="color:#f92672">div</span> <span style="color:#a6e22e">:id</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;dynamicId&#34;</span>&gt;&lt;/<span style="color:#f92672">div</span>&gt;
</span></span></code></pre></div><ul>
<li>如果绑定的值是 <code>null</code> 或 <code>undefined</code>，那么该 attribute 将不会被包含在渲染的元素上。</li>
</ul>
<h4 id="动态参数">
  动态参数
  <a class="anchor" href="#%e5%8a%a8%e6%80%81%e5%8f%82%e6%95%b0">#</a>
</h4>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-javascript" data-lang="javascript"><span style="display:flex;"><span><span style="color:#f92672">&lt;</span><span style="color:#a6e22e">a</span> <span style="color:#a6e22e">v</span><span style="color:#f92672">-</span><span style="color:#a6e22e">bind</span><span style="color:#f92672">:</span>[<span style="color:#a6e22e">attributeName</span>]<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;url&#34;</span><span style="color:#f92672">&gt;</span> ... <span style="color:#f92672">&lt;</span><span style="color:#960050;background-color:#1e0010">/a&gt;</span>
</span></span></code></pre></div><ul>
<li>这里的 <code>attributeName</code> 会被作为一个 JavaScript 表达式进行动态求值。如果组件实例有一个 data property <code>attributeName</code>，其值为 <code>&quot;href&quot;</code>，那么这个绑定将等价于 <code>v-bind:href</code>。</li>
<li>动态参数预期会求出一个字符串，<code>null</code> 例外, <code>null</code> 值可以用于显式地移除绑定。任何其它非字符串类型的值都将会触发一个警告。</li>
<li>需要避免使用大写字符来命名键名，因为浏览器会把 attribute 名全部强制转为小写。</li>
</ul>
<h3 id="javascript-表达式">
  JavaScript 表达式
  <a class="anchor" href="#javascript-%e8%a1%a8%e8%be%be%e5%bc%8f">#</a>
</h3>
<ul>
<li>Vue.js 提供了完全的 JavaScript 表达式支持。</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-html" data-lang="html"><span style="display:flex;"><span>{{ number + 1 }}
</span></span><span style="display:flex;"><span>{{ ok ? &#39;YES&#39; : &#39;NO&#39; }}
</span></span><span style="display:flex;"><span>{{ message.split(&#39;&#39;).reverse().join(&#39;&#39;) }}
</span></span><span style="display:flex;"><span>&lt;<span style="color:#f92672">div</span> <span style="color:#a6e22e">v-bind:id</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;&#39;list-&#39; + id&#34;</span>&gt;&lt;/<span style="color:#f92672">div</span>&gt;
</span></span></code></pre></div><h3 id="v-on">
  v-on
  <a class="anchor" href="#v-on">#</a>
</h3>
<ul>
<li><code>v-on</code> 指令，它用于监听 DOM 事件。</li>
<li>修饰符 (modifier) 是以 <code>.</code> 指明的特殊后缀，用于指出一个指令应该以特殊方式绑定。<code>.prevent</code> 修饰符告诉 <code>v-on</code> 指令对于触发的事件调用 <code>event.preventDefault()</code>。</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-html" data-lang="html"><span style="display:flex;"><span>&lt;<span style="color:#f92672">a</span> <span style="color:#a6e22e">v-on:click</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;doSomething&#34;</span>&gt; ... &lt;/<span style="color:#f92672">a</span>&gt;
</span></span><span style="display:flex;"><span><span style="color:#75715e">&lt;!--等同于--&gt;</span>
</span></span><span style="display:flex;"><span>&lt;<span style="color:#f92672">a</span> <span style="color:#960050;background-color:#1e0010">@</span><span style="color:#a6e22e">click</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;doSomething&#34;</span>&gt; ... &lt;/<span style="color:#f92672">a</span>&gt;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>&lt;<span style="color:#f92672">form</span> <span style="color:#a6e22e">v-on:submit</span><span style="color:#960050;background-color:#1e0010">.</span><span style="color:#a6e22e">prevent</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;onSubmit&#34;</span>&gt;...&lt;/<span style="color:#f92672">form</span>&gt;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">&lt;!-- 只有在key是Enter时调用submit()方法--&gt;</span>
</span></span><span style="display:flex;"><span>&lt;<span style="color:#f92672">input</span> <span style="color:#960050;background-color:#1e0010">@</span><span style="color:#a6e22e">keyup</span><span style="color:#960050;background-color:#1e0010">.</span><span style="color:#a6e22e">enter</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;submit&#34;</span> /&gt;
</span></span></code></pre></div><h3 id="v-if">
  v-if
  <a class="anchor" href="#v-if">#</a>
</h3>
<ul>
<li>可以配合<code>v-else</code>、<code>v-else-if</code>使用。</li>
<li><code>v-if</code>是真正的条件渲染，在切换的过程中，子组件会被销毁和重建。</li>
<li>不推荐v-if和v-for一起使用。v-if比v-for有更高的优先级。</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-html" data-lang="html"><span style="display:flex;"><span><span style="color:#75715e">&lt;!--条件为真时才被渲染--&gt;</span>
</span></span><span style="display:flex;"><span>&lt;<span style="color:#f92672">div</span> <span style="color:#a6e22e">v-if</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;type === &#39;A&#39;&#34;</span>&gt;
</span></span><span style="display:flex;"><span>  A
</span></span><span style="display:flex;"><span>&lt;/<span style="color:#f92672">div</span>&gt;
</span></span><span style="display:flex;"><span>&lt;<span style="color:#f92672">div</span> <span style="color:#a6e22e">v-else-if</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;type === &#39;B&#39;&#34;</span>&gt;
</span></span><span style="display:flex;"><span>  B
</span></span><span style="display:flex;"><span>&lt;/<span style="color:#f92672">div</span>&gt;
</span></span><span style="display:flex;"><span>&lt;<span style="color:#f92672">div</span> <span style="color:#a6e22e">v-else-if</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;type === &#39;C&#39;&#34;</span>&gt;
</span></span><span style="display:flex;"><span>  C
</span></span><span style="display:flex;"><span>&lt;/<span style="color:#f92672">div</span>&gt;
</span></span><span style="display:flex;"><span>&lt;<span style="color:#f92672">div</span> <span style="color:#a6e22e">v-else</span>&gt;
</span></span><span style="display:flex;"><span>  Not A/B/C
</span></span><span style="display:flex;"><span>&lt;/<span style="color:#f92672">div</span>&gt;
</span></span></code></pre></div><h3 id="v-show">
  v-show
  <a class="anchor" href="#v-show">#</a>
</h3>
<ul>
<li>只是修改元素的display为none。</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-html" data-lang="html"><span style="display:flex;"><span>&lt;<span style="color:#f92672">h1</span> <span style="color:#a6e22e">v-show</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;ok&#34;</span>&gt;Hello!&lt;/<span style="color:#f92672">h1</span>&gt;
</span></span></code></pre></div><h3 id="v-for">
  v-for
  <a class="anchor" href="#v-for">#</a>
</h3>
<ul>
<li>用来遍历数组和对象</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-html" data-lang="html"><span style="display:flex;"><span><span style="color:#75715e">&lt;!--遍历数组--&gt;</span>
</span></span><span style="display:flex;"><span>&lt;<span style="color:#f92672">ul</span> <span style="color:#a6e22e">id</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;array-rendering&#34;</span>&gt;
</span></span><span style="display:flex;"><span>  &lt;<span style="color:#f92672">li</span> <span style="color:#a6e22e">v-for</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;item in items&#34;</span>&gt;
</span></span><span style="display:flex;"><span>     <span style="color:#75715e">&lt;!--items: [{ message: &#39;Foo&#39; }, { message: &#39;Bar&#39; }]--&gt;</span>
</span></span><span style="display:flex;"><span>    {{ item.message }}
</span></span><span style="display:flex;"><span>  &lt;/<span style="color:#f92672">li</span>&gt;
</span></span><span style="display:flex;"><span>&lt;/<span style="color:#f92672">ul</span>&gt;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">&lt;!--遍历对象--&gt;</span>
</span></span><span style="display:flex;"><span>&lt;<span style="color:#f92672">li</span> <span style="color:#a6e22e">v-for</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;(value, name) in myObject&#34;</span>&gt;
</span></span><span style="display:flex;"><span>  {{ name }}: {{ value }}
</span></span><span style="display:flex;"><span>&lt;/<span style="color:#f92672">li</span>&gt;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">&lt;!--把模板重复10次数--&gt;</span>
</span></span><span style="display:flex;"><span>&lt;<span style="color:#f92672">div</span> <span style="color:#a6e22e">id</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;range&#34;</span> <span style="color:#a6e22e">class</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;demo&#34;</span>&gt;
</span></span><span style="display:flex;"><span>  &lt;<span style="color:#f92672">span</span> <span style="color:#a6e22e">v-for</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;n in 10&#34;</span> <span style="color:#a6e22e">:key</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;n&#34;</span>&gt;{{ n }} &lt;/<span style="color:#f92672">span</span>&gt;
</span></span><span style="display:flex;"><span>&lt;/<span style="color:#f92672">div</span>&gt;
</span></span></code></pre></div><h3 id="v-model">
  v-model
  <a class="anchor" href="#v-model">#</a>
</h3>
<ul>
<li>v-model 指令在表单 <code>&lt;input&gt;</code>、<code>&lt;textarea&gt;</code> 及 <code>&lt;select&gt;</code> 元素上创建双向数据绑定。</li>
<li><code>v-model</code> 会忽略表单元素的 <code>value</code>、<code>checked</code>、<code>selected</code> 属性的初始值，可以在data中声明初始值。</li>
<li>多个复选框可以绑定到一个数组上。</li>
<li>自动过滤用户输入的首尾空白字符，可以给v-model添加<code>trim</code>。<code>&lt;input v-model.trim=&quot;msg&quot; /&gt;</code>。</li>
</ul>
<h2 id="data属性">
  data属性
  <a class="anchor" href="#data%e5%b1%9e%e6%80%a7">#</a>
</h2>
<ul>
<li>组件的 <code>data</code> 选项是一个函数，Vue 会在创建新组件实例的过程中调用此函数。它应该返回一个对象，然后 Vue 会通过响应性系统将其包裹起来，并以 <code>$data</code> 的形式存储在组件实例中。为了方便，该对象的任何顶级 property 也会直接通过组件实例暴露出来。</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-js" data-lang="js"><span style="display:flex;"><span><span style="color:#66d9ef">const</span> <span style="color:#a6e22e">app</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">Vue</span>.<span style="color:#a6e22e">createApp</span>({
</span></span><span style="display:flex;"><span>  <span style="color:#a6e22e">data</span>() {
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> { <span style="color:#a6e22e">count</span><span style="color:#f92672">:</span> <span style="color:#ae81ff">4</span> }
</span></span><span style="display:flex;"><span>  }
</span></span><span style="display:flex;"><span>})
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">const</span> <span style="color:#a6e22e">vm</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">app</span>.<span style="color:#a6e22e">mount</span>(<span style="color:#e6db74">&#39;#app&#39;</span>)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">console</span>.<span style="color:#a6e22e">log</span>(<span style="color:#a6e22e">vm</span>.<span style="color:#a6e22e">$data</span>.<span style="color:#a6e22e">count</span>) <span style="color:#75715e">// =&gt; 4
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#a6e22e">console</span>.<span style="color:#a6e22e">log</span>(<span style="color:#a6e22e">vm</span>.<span style="color:#a6e22e">count</span>)       <span style="color:#75715e">// =&gt; 4
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">// 修改 vm.count 的值也会更新 $data.count
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#a6e22e">vm</span>.<span style="color:#a6e22e">count</span> <span style="color:#f92672">=</span> <span style="color:#ae81ff">5</span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">vm</span>.<span style="color:#a6e22e">$data</span>.<span style="color:#a6e22e">count</span> <span style="color:#f92672">=</span> <span style="color:#ae81ff">6</span>
</span></span></code></pre></div><ul>
<li>这些实例 property 仅在实例首次创建时被添加，所以你需要确保它们都在 <code>data</code> 函数返回的对象中。必要时，要对尚未提供所需值的 property 使用 <code>null</code>、<code>undefined</code> 或其他占位的值。</li>
</ul>
<h2 id="methods">
  methods
  <a class="anchor" href="#methods">#</a>
</h2>
<ul>
<li>用 <code>methods</code> 选项向组件实例添加方法。</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-js" data-lang="js"><span style="display:flex;"><span><span style="color:#66d9ef">const</span> <span style="color:#a6e22e">app</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">Vue</span>.<span style="color:#a6e22e">createApp</span>({
</span></span><span style="display:flex;"><span>  <span style="color:#a6e22e">data</span>() {
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> { <span style="color:#a6e22e">count</span><span style="color:#f92672">:</span> <span style="color:#ae81ff">4</span> }
</span></span><span style="display:flex;"><span>  },
</span></span><span style="display:flex;"><span>  <span style="color:#a6e22e">methods</span><span style="color:#f92672">:</span> {
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">increment</span>() {
</span></span><span style="display:flex;"><span>      <span style="color:#75715e">// `this` 指向该组件实例
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>      <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">count</span><span style="color:#f92672">++</span>
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>  }
</span></span><span style="display:flex;"><span>})
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">const</span> <span style="color:#a6e22e">vm</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">app</span>.<span style="color:#a6e22e">mount</span>(<span style="color:#e6db74">&#39;#app&#39;</span>)
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">console</span>.<span style="color:#a6e22e">log</span>(<span style="color:#a6e22e">vm</span>.<span style="color:#a6e22e">count</span>) <span style="color:#75715e">// =&gt; 4
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#a6e22e">vm</span>.<span style="color:#a6e22e">increment</span>()
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">console</span>.<span style="color:#a6e22e">log</span>(<span style="color:#a6e22e">vm</span>.<span style="color:#a6e22e">count</span>) <span style="color:#75715e">// =&gt; 5
</span></span></span></code></pre></div><ul>
<li>在定义 <code>methods</code> 时应避免使用箭头函数，因为这会阻止 Vue 绑定恰当的 <code>this</code> 指向。</li>
<li>这些 <code>methods</code> 和组件实例的其它所有 property 一样可以在组件的模板中被访问。在模板中，它们通常被当做事件监听使用。</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-html" data-lang="html"><span style="display:flex;"><span><span style="color:#75715e">&lt;!--点击 &lt;button&gt; 时，会调用 increment 方法。--&gt;</span>
</span></span><span style="display:flex;"><span>&lt;<span style="color:#f92672">button</span> <span style="color:#960050;background-color:#1e0010">@</span><span style="color:#a6e22e">click</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;increment&#34;</span>&gt;Up vote&lt;/<span style="color:#f92672">button</span>&gt;
</span></span></code></pre></div><h2 id="class和style的绑定">
  class和style的绑定
  <a class="anchor" href="#class%e5%92%8cstyle%e7%9a%84%e7%bb%91%e5%ae%9a">#</a>
</h2>
<h3 id="class">
  class
  <a class="anchor" href="#class">#</a>
</h3>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-javascript" data-lang="javascript"><span style="display:flex;"><span><span style="color:#75715e">&lt;!--</span><span style="color:#a6e22e">isActive为true或false决定了是否应用此样式</span><span style="color:#f92672">--&gt;</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;</span><span style="color:#a6e22e">div</span> <span style="color:#f92672">:</span><span style="color:#66d9ef">class</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;{ active: isActive }&#34;</span><span style="color:#f92672">&gt;&lt;</span><span style="color:#960050;background-color:#1e0010">/div&gt;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">&lt;!--</span><span style="color:#a6e22e">class可以和</span><span style="color:#f92672">:</span><span style="color:#a6e22e">class共存</span><span style="color:#960050;background-color:#1e0010">，</span><span style="color:#f92672">:</span><span style="color:#a6e22e">class中可以添加多个字段</span><span style="color:#f92672">--&gt;</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;</span><span style="color:#a6e22e">div</span> <span style="color:#66d9ef">class</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;static&#34;</span> <span style="color:#f92672">:</span><span style="color:#66d9ef">class</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;{ active: isActive, &#39;text-danger&#39;: hasError }&#34;</span><span style="color:#f92672">&gt;&lt;</span><span style="color:#960050;background-color:#1e0010">/div&gt;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">&lt;!--</span><span style="color:#a6e22e">绑定的数据对象可以在data中定义</span><span style="color:#f92672">--&gt;</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;</span><span style="color:#a6e22e">div</span> <span style="color:#f92672">:</span><span style="color:#66d9ef">class</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;classObject&#34;</span><span style="color:#f92672">&gt;&lt;</span><span style="color:#960050;background-color:#1e0010">/div&gt;</span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">data</span>() {
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">return</span> {
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">classObject</span><span style="color:#f92672">:</span> {
</span></span><span style="display:flex;"><span>      <span style="color:#a6e22e">active</span><span style="color:#f92672">:</span> <span style="color:#66d9ef">true</span>,
</span></span><span style="display:flex;"><span>      <span style="color:#e6db74">&#39;text-danger&#39;</span><span style="color:#f92672">:</span> <span style="color:#66d9ef">false</span>
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>  }
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">&lt;!--</span><span style="color:#a6e22e">可以传递一个数组</span><span style="color:#f92672">--&gt;</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;</span><span style="color:#a6e22e">div</span> <span style="color:#f92672">:</span><span style="color:#66d9ef">class</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;[{ active: isActive }, errorClass]&#34;</span><span style="color:#f92672">&gt;&lt;</span><span style="color:#960050;background-color:#1e0010">/div&gt;</span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">data</span>() {
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">return</span> {
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">isActive</span><span style="color:#f92672">:</span> <span style="color:#66d9ef">true</span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">errorClass</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;text-danger&#39;</span>
</span></span><span style="display:flex;"><span>  }
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><h3 id="style">
  style
  <a class="anchor" href="#style">#</a>
</h3>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-html" data-lang="html"><span style="display:flex;"><span>&lt;<span style="color:#f92672">div</span> <span style="color:#a6e22e">:style</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;{ color: activeColor, fontSize: fontSize + &#39;px&#39; }&#34;</span>&gt;&lt;/<span style="color:#f92672">div</span>&gt;
</span></span><span style="display:flex;"><span>data() {
</span></span><span style="display:flex;"><span>  return {
</span></span><span style="display:flex;"><span>    activeColor: &#39;red&#39;,
</span></span><span style="display:flex;"><span>    fontSize: 30
</span></span><span style="display:flex;"><span>  }
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">&lt;!--直接绑定一个样式对象--&gt;</span>
</span></span><span style="display:flex;"><span>&lt;<span style="color:#f92672">div</span> <span style="color:#a6e22e">:style</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;styleObject&#34;</span>&gt;&lt;/<span style="color:#f92672">div</span>&gt;
</span></span><span style="display:flex;"><span>data() {
</span></span><span style="display:flex;"><span>  return {
</span></span><span style="display:flex;"><span>    styleObject: {
</span></span><span style="display:flex;"><span>      color: &#39;red&#39;,
</span></span><span style="display:flex;"><span>      fontSize: &#39;13px&#39;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>  }
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">&lt;!--将多个样式对象以数组的形式应用到一个元素上--&gt;</span>
</span></span><span style="display:flex;"><span>&lt;<span style="color:#f92672">div</span> <span style="color:#a6e22e">:style</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;[baseStyles, overridingStyles]&#34;</span>&gt;&lt;/<span style="color:#f92672">div</span>&gt;
</span></span></code></pre></div>
    </p>
  </article>
  
  <article class="markdown book-post">
    <h2>
      <a href="/posts/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/%E9%93%BE%E8%B7%AF%E5%B1%82/">链路层</a>
    </h2>
    
  <h5>2021-11-24</h5>



  

  
  <div>
    
      <a href="/tags/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/">计算机网络</a>
  </div>
  




    <p><h2 id="概述">
  概述
  <a class="anchor" href="#%e6%a6%82%e8%bf%b0">#</a>
</h2>
<ul>
<li>链路层有两种不同类型的链路层信道，第一种是广播信道，因为许多主机与相同的广播信道相连，需要使用媒体访问协议来协调传输帧。第二种类型是点对点通信联络，由链路一端的单个发送方和链路另一端的单个接收方组成，许多链路层协议都是为点对点链路设计的，如点对点协议（PPP）和高级数据链路控制（HDLC）。</li>
<li>媒体访问控制协议（MAC）规定了帧在链路上传输的规则，对于在链路的一端只有一个发送方，链路的另一端仅有一个接收方的点对点链路，MAC协议比较简单，任何时刻发送方都能发送帧；当多个节点共享单个广播链路时，MAC协议需要协调多个节点的帧传输。</li>
<li>链路层的主体部分是在网络适配器中（也叫网络接口卡Network Interface Card NIC）实现，链路层控制器的很多功能使用硬件实现。</li>
<li>在发送端，控制器取得了由协议栈高层生成并存储在主机内存的数据报，在链路层帧中封装该数据报，然后遵循协议将该帧传入到链路中；在接收端接收整个帧，抽出网络层数据包，如果链路层执行差错检测，则需要发宋控制器在该帧的首部设置差错检测比特，由接收控制器执行差错检测。</li>
</ul>
<h2 id="crc校验">
  CRC校验
  <a class="anchor" href="#crc%e6%a0%a1%e9%aa%8c">#</a>
</h2>
<ul>
<li>
<p>Cyclic Redundancy Check循环冗余检测。</p>
</li>
<li>
<p>原理是</p>
<ol>
<li>发送方和接收方先协商个数G，接收方在发送的数据D后添加数据R，使得DR（如D为11011101，R为1100，则DR为110111011100）能被G整除。并要求G的最左边位置为1，G比R多一位。</li>
<li>接收方收到数据后，用G除以DR&rsquo;，如果余数为0，则数据正确，否则数据错误。</li>
<li>R可以通过G和D计算，计算方法如下：</li>
</ol>
<p>
  <img src="/img/%e8%ae%a1%e7%ae%97%e6%9c%ba%e7%bd%91%e7%bb%9c/%e9%93%be%e8%b7%af%e5%b1%82/1.jpg" alt="" /></p>
</li>
</ul>
<h2 id="多路访问协议">
  多路访问协议
  <a class="anchor" href="#%e5%a4%9a%e8%b7%af%e8%ae%bf%e9%97%ae%e5%8d%8f%e8%ae%ae">#</a>
</h2>
<ul>
<li>广播信道中的所有节点都能传输帧，这可能会导致碰撞，通常当碰撞发生时，没有一个节点能有效地获得任何传输的帧。为了确保广播信道能执行有用的工作，需要使用某种方式来协调节点的数据传输。</li>
<li>时隙ALOHA：
<ul>
<li>所有的帧由L比特组成，事件被划分为L/R秒的时隙；一个时隙等于传输一帧的时间；节点只在时隙起点开始传输帧；</li>
<li>当节点有一个新的帧要发送时，他等到下一个时隙开始传输整个帧；</li>
<li>如果没有碰撞，该节点成功传输它的帧。</li>
<li>如果有碰撞，该节点检测到这次碰撞，并在后续中该节点以概率p（0&lt;p&lt;1）在每个时隙中重传他的帧，直到该帧被传输出去。</li>
</ul>
</li>
<li>具有碰撞检测的载波侦听多路访问协议（CSMA/CD）是指一个节点在传输前先监听信道，当存在其他节点正在信道上传输帧时，节点等待直到检测到没有数据传输时才开始传输；节点传输时会一直侦听信道，当它检测到另一个节点也在传输帧时，它就停止传输，并等待一个时间后重新传输。</li>
<li>CSMA/CD等待的时间使用的是二进制指数后退算法，该算法如下：当传输一个帧是，在该帧尽力了一连串的n次碰撞后，节点随机地从[0, 1, 2, &hellip;, 2 <sup>n</sup>-1]中选择一个K值。</li>
</ul>
<h2 id="mac地址">
  MAC地址
  <a class="anchor" href="#mac%e5%9c%b0%e5%9d%80">#</a>
</h2>
<ul>
<li>并不是主机具有链路层地址，而是他们的网络接口具有链路层地址；具有多个网络接口的主机具有多个链路层地址。</li>
<li>链路层交换机的任务是在主机和路由器之间承载数据报，主机或者路由器不必明确的将帧发送到交换机。</li>
<li>MAC地址共2<sup>48</sup>位，通常采用十六进制表示，如1A-23-F9-CD-06-9B。</li>
<li>当某些适配器向目的适配器发送一个帧时，发送适配器将目的适配器的MAC地址插入到该帧中， 并将该帧发送到局域网上。</li>
<li>有一个特殊的MAC广播地址，FF-FF-FF-FF-FF-FF，适用于发送适配器需要让其他局域网上的其他适配器接收并处理它发送的帧。</li>
</ul>
<h2 id="arp">
  ARP
  <a class="anchor" href="#arp">#</a>
</h2>
<ul>
<li>Address Resolution Protocol，地址解析协议。</li>
<li>ARP为在同一个子网上的主机和路由器接口解析IP地址，获得MAC地址。</li>
<li>每台主机或路由器中都有一个ARP表，包含了IP地址到MAC地址的映射关系。该表也包含了一个TTL，表示从表中删除映射的时间。通常的过期时间是20分钟。</li>
<li>ARP的处理流程如下：
<ul>
<li>A主机向子网中广播一个ARP分组，该分组中包含源和目的IP地址,源MAC地址，目的MAC地址为FF-FF-FF-FF-FF-FF。</li>
<li>由于是广播地址，每个适配器都将该帧中的ARP分组向上传递给ARP模块，ARP模块检查它的IP地址是否和ARP分组中的目的IP地址是否匹配。</li>
<li>如果匹配，将向A主机发送一个带有A主机需要的目的MAC地址的ARP分组。</li>
<li>A主机更新他的ARP表。</li>
<li>
  <img src="/img/%e8%ae%a1%e7%ae%97%e6%9c%ba%e7%bd%91%e7%bb%9c/%e9%93%be%e8%b7%af%e5%b1%82/2.jpg" alt="" /></li>
</ul>
</li>
</ul>
<h2 id="以太网">
  以太网
  <a class="anchor" href="#%e4%bb%a5%e5%a4%aa%e7%bd%91">#</a>
</h2>
<ul>
<li>早期使用总线拓扑的以太网是一种广播局域网，即所有传输的帧都会被该总线上所有的适配器处理。</li>
<li>集线器（hub）是一种物理层设备，作用与各个比特，当一个0或1的比特到达一个接口时，集线器只会重新生成这个比特，将其能量强度放大，并向其他的所有接口传输出去。采用基于集线器的星形拓扑的以太网实际上也是一个广播局域网。当某集线器同时从两个不同的接口接收到帧时，将出现一次碰撞。</li>
<li>交换机（switch）是链路层设备，使用交换机的以太网安装采用星形拓扑，交换机不仅是无碰撞的，也是“存储-转发”。</li>
</ul>
<h3 id="以太网帧格式">
  以太网帧格式
  <a class="anchor" href="#%e4%bb%a5%e5%a4%aa%e7%bd%91%e5%b8%a7%e6%a0%bc%e5%bc%8f">#</a>
</h3>
<ul>
<li>
<p>
  <img src="/img/%e8%ae%a1%e7%ae%97%e6%9c%ba%e7%bd%91%e7%bb%9c/%e9%93%be%e8%b7%af%e5%b1%82/3.jpg" alt="" /></p>
</li>
<li>
<p>前导字段前7个字节是用来确定一个帧的到达时间，并确定编码位之间的时间量。最后一个字节固定值为0xAB。</p>
</li>
<li>
<p>源地址和目的地址都指的是适配器的地址，当接收方收到一个帧，如果帧的内容是自身的地址或者是广播地址，它会将帧的数据字段传递给网络层，如果它收到了具有任何其他MAC地址的帧，则丢弃。</p>
</li>
<li>
<p>类型字段指定以太网上层使用的协议。</p>
</li>
<li>
<p>数据字段最小是46字节，如果IP数据报小于46字节，数据包必须被填充到46字节。当采用填充时，传递到网络层的数据报还包括填充部分，网络层使用IP数据包首部中的长度字段来去除填充部分。</p>
</li>
<li>
<p>CRC的目的是使得接收适配器检测帧中是否引入了差错。</p>
</li>
<li>
<p>以太网采用无连接服务，向网络层提供不可靠服务，当适配器收到一个帧后，它对该帧执行CRC校验，当该帧不通过CRC校验时，设配器只会丢弃该帧而不会通知发送端。</p>
</li>
</ul>
<h2 id="链路层交换机">
  链路层交换机
  <a class="anchor" href="#%e9%93%be%e8%b7%af%e5%b1%82%e4%ba%a4%e6%8d%a2%e6%9c%ba">#</a>
</h2>
<ul>
<li>交换机对子网中的主机和路由器是透明的，这意味这当某主机向另一台主机发送一个帧，并不知道某交换机会接收该帧并把它转发到另一个节点。交换机输出接口设置有缓存。</li>
<li>使用交换机能消除碰撞，交换机将链路彼此隔离。</li>
</ul>
<h3 id="转发和过滤">
  转发和过滤
  <a class="anchor" href="#%e8%bd%ac%e5%8f%91%e5%92%8c%e8%bf%87%e6%bb%a4">#</a>
</h3>
<ul>
<li>过滤决定一个帧是否应该转发到某个接口还是应当将其丢弃。</li>
<li>转发决定一个帧应该被导向哪个接口，并把该帧移动到哪些接口上。</li>
<li>交换机的过滤和转发基于交换机表（switch table）实现，该交换机表包含局域网上某些主机和路由器但不必是全部的表项。交换机表中包含：1. MAC地址；2MAC地址对应的接口；3. 该信息放到交换机表中的时间。</li>
<li>交换机的工作流程如下，假设A帧从x接口到达，目的地址为DD-DD-DD-DD-DD-DD：
<ul>
<li>如果表中没有DD-DD-DD-DD-DD-DD，则交换机向除x外所有的接口广播该帧。</li>
<li>如果表中有DD-DD-DD-DD-DD-DD，并且对应的接口为x，则交换机丢弃该帧。</li>
<li>如果表中有DD-DD-DD-DD-DD-DD，并且对应的接口不为x，则交换机将该帧转发到接口y上。</li>
</ul>
</li>
<li>交换机表是自学习的，通过如下方式实现：
<ol>
<li>交换机表初始为空。</li>
<li>对于每个接口收到的入帧，该交换机在其表中存储该帧源MAC地址、该帧到达的接口和当前时间。</li>
<li>如果一段时间（老化期）后，交换机没有收到源MAC地址在该表里的数据后，就从该表里删除这个地址。</li>
</ol>
</li>
<li>交换机是即用即插设备，不需要网络管理员手动维护。交换机是全双工的，任何接口都能同时发送和接收。</li>
</ul>
<h2 id="无线局域网ieee80211wi-fi">
  无线局域网IEEE802.11(Wi-Fi)
  <a class="anchor" href="#%e6%97%a0%e7%ba%bf%e5%b1%80%e5%9f%9f%e7%bd%91ieee80211wi-fi">#</a>
</h2>
<ul>
<li>
<p>Wi-Fi（无线保真），一个接入点（AP）网络下面可以包含多个站（STA），一个AP和相关的站被称为一个基本服务集（BSS)。AP之间使用一种有线的分布式服务（称为DS），形成一个扩展服务集（ESS），这种方式通常被称为基础设施模式。</p>
<h3 id="80211帧">
  802.11帧
  <a class="anchor" href="#80211%e5%b8%a7">#</a>
</h3>
</li>
</ul>
<p>
  <img src="/img/%e8%ae%a1%e7%ae%97%e6%9c%ba%e7%bd%91%e7%bb%9c/%e9%93%be%e8%b7%af%e5%b1%82/802.11.png" alt="" /></p>
<ul>
<li>物理层会聚程序（PLCP）头部以独立于物理层的方式提供特定的物理层信息。</li>
<li>MPDU的帧控制字包括三种类型：管理帧、控制帧和数据帧。MPDU的剩余字段由帧类型来决定。</li>
</ul>
<h4 id="管理帧">
  管理帧
  <a class="anchor" href="#%e7%ae%a1%e7%90%86%e5%b8%a7">#</a>
</h4>
<ul>
<li>管理帧用于创建维持、终止站和接入点之间的连接。</li>
<li>管理帧也被确定是否采用加密，传输网络名称（SSID或ESSID），支持哪种传输速率，以及采用的时间数据库等。</li>
<li>当一个Wi-Fi接口”扫描“临近的接入点时，这些帧被用于提供必要的信息。</li>
<li>扫描是一个站发现可用的网络以及相关配置信息的过程。一个站可以主动侦测网络，在扫描时传输一个特殊的管理帧（&ldquo;探测请求&rdquo;)。这些探测请求有一定的限制，以保证802.11流量不在非802.11频率上传输。</li>
</ul>
<h3 id="控制帧">
  控制帧
  <a class="anchor" href="#%e6%8e%a7%e5%88%b6%e5%b8%a7">#</a>
</h3>
<ul>
<li>控制帧和帧确认被用于一种流量的控制方式，流量控制有助于接收方是一个过快的发送方降低发送速度，帧确认有助于发送方知道哪些帧已被正确接收。</li>
<li>802.11网络支持可选的请求发送/明确发送（RTS/CTS），通过放缓传输来进行流量控制。当RTS/CTS启用时，一个站在发送数据帧之前发送一个RTS帧，当接收方愿意接收额外的流量时，这个站会开启一个时间窗口，用于向确认接受的站发送数据帧。</li>
<li>RTS和CTS帧比较短，因此他们不会长期使用信道。如果一个分组的大小足够大，AP通常为每个分组启动一次RTS/CTS交换。通常AP都提供一个称为分组大小阈值的配置选项，超过阈值的帧将会导致一个RTS帧优先于数据帧发送。大多数设备生产商设置的默认值是500字节。</li>
<li>802.11采用一种重传/确认的方法来重传。确认是对预期在一定时间内接受的一个单播帧（802.11a/b/g）或一组帧(802.11n/e)的响应。组播和广播帧没有相关的确认，在指定时间内没有收到对应的ACK会导致帧的重传。</li>
</ul>
<h3 id="数据帧分片和聚合">
  数据帧、分片和聚合
  <a class="anchor" href="#%e6%95%b0%e6%8d%ae%e5%b8%a7%e5%88%86%e7%89%87%e5%92%8c%e8%81%9a%e5%90%88">#</a>
</h3>
<ul>
<li>通常802.11帧和链路层（LLC）帧之间存在一对一关系，他们保证更高层协议是可用的。但是802.11支持帧分片，可将一个帧分为多个分片。根据802.11n的规定，它也支持帧聚合，可将多个帧合并发送以减少开销。</li>
<li>当使用帧分片时，每个分片都有自己的MAC头部和尾部的CRC，并且他们独立于其他分片处理。当信道有明显的干扰时，分片有助于提高性能。分片仅用于目的地址为单播的帧，为了具备这种能力，顺序控制字段包含一个分片号（4位）和一个序列号（12位）。如果一个帧经过分片，所有分片包含相同的序列号值，没相邻的分片的分片号之差为1。由于分片号字段长度为4位，同一帧最多可能有15个分片。帧控制字中的更多标志字段表示更多分片还没有到达。最后一个分片将这个位置设置为0。接收方将接收的同一序列号的分片根据分片号重组成原始帧。当所有包含同一序列号的分片被接收，并且最后一个分片将更多标志字段设为0时，这个帧被重组并交给更高层协议来处理。</li>
<li>分片并不常使用，分片大小通常可设为256字节至2048字节，并作为一个阈值，只要超过了阈值的帧才被分片。</li>
</ul>
<h3 id="环回地址">
  环回地址
  <a class="anchor" href="#%e7%8e%af%e5%9b%9e%e5%9c%b0%e5%9d%80">#</a>
</h3>
<ul>
<li>通常使用一个虚拟的环回网络接口来实现。它像一个真正的网络接口，但实际上是一个由操作系统提供的专用软件。</li>
<li>以127开头的IPv4地址被保留位环回地址，linux为环回地址分配的IPv4地址为127.0.0.1（IPv6为::1），为它分配的名称为localhost。</li>
<li>传输层和网络层对数据执行完整的处理流程，在数据离开网络层时将其回送给网络层协议栈。在linux中环回接口被称为lo。</li>
</ul>
<h3 id="mtu和路径mtu">
  MTU和路径MTU
  <a class="anchor" href="#mtu%e5%92%8c%e8%b7%af%e5%be%84mtu">#</a>
</h3>
<ul>
<li>在很多链路层中，携带的高层协议PDU的帧大小是有限的，以太网的有效载荷通常被限制为1500字节。这种特征被称为最大传输单元(MTU)。</li>
<li>当两台主机之间跨越多个网络通信时，每条链路可能由不同大小的MTU，最小的MTU被称为路径MTU。</li>
<li>任何两台主机之间的路径MTU可能会改变。路径MTU不需要在两个方向上相同。</li>
</ul>
<h3 id="隧道">
  隧道
  <a class="anchor" href="#%e9%9a%a7%e9%81%93">#</a>
</h3>
<ul>
<li>一般来说，隧道是在高层（或同等层）中携带低层数据。如在IPv4分组中携带IPv4数据，在一个UDP分组中携带以太网数据。</li>
<li>隧道转变了严格分层的思路。</li>
<li>用于建立隧道的常用协议包括：通用路由封装（GRE）、点对点隧道协议（PPTP）和第二层隧道协议（L2TP）。</li>
</ul>
<h3 id="与链路层相关的攻击">
  与链路层相关的攻击
  <a class="anchor" href="#%e4%b8%8e%e9%93%be%e8%b7%af%e5%b1%82%e7%9b%b8%e5%85%b3%e7%9a%84%e6%94%bb%e5%87%bb">#</a>
</h3>
<ul>
<li>在传统的有线以太网中，接口可以被设置为混杂模式，这允许它接收目的地不是自己的流量。当介质是共享电缆时，该功能允许任意一台连接以太网的电力计算机获取到别人的帧并检查内容。在使用交换机后，这变的不容易了。</li>
</ul>
    </p>
  </article>
  
  <article class="markdown book-post">
    <h2>
      <a href="/posts/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/%E6%A6%82%E8%BF%B0/">概述</a>
    </h2>
    
  <h5>2021-11-24</h5>



  

  
  <div>
    
      <a href="/tags/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/">计算机网络</a>
  </div>
  




    <p><h2 id="协议">
  协议
  <a class="anchor" href="#%e5%8d%8f%e8%ae%ae">#</a>
</h2>
<ul>
<li>计算机会执行各种协议，一系列相关的协议的集合称为一个协议族。</li>
<li>指定一个协议族中的各种协议之间的相互关系并划分需要完成任务的设计，称为协议族的体系结构或参考模型。</li>
</ul>
<h2 id="分层">
  分层
  <a class="anchor" href="#%e5%88%86%e5%b1%82">#</a>
</h2>
<table>
<thead>
<tr>
<th></th>
<th>介绍</th>
</tr>
</thead>
<tbody>
<tr>
<td>应用层</td>
<td>Telnet、FTP和e-mail等</td>
</tr>
<tr>
<td>运输层</td>
<td>TCP和UDP</td>
</tr>
<tr>
<td>网络层</td>
<td>IP、ICMP和IGMP</td>
</tr>
<tr>
<td>链路层</td>
<td>设备驱动程序和接口卡</td>
</tr>
</tbody>
</table>
<ol>
<li>链路层：也叫数据链路层或者网络接口层，包括操作系统中的设备驱动程序和计算机中对应的网络接口卡（网卡），他们一起处理与电缆（或其他传输媒介）的物理接口细节。</li>
<li>网络层：处理分组在网络中的活动。</li>
<li>运输层：未两台主机上的应用程序提供端到端的通信。TCP的工作是把应用程序交给他的数据分为合适的小块交给下面的网络层，确认接收到的文组，设置发送最后确认分组的超时时钟等。UDP把称作数据报的分组从一台主机发送到另一台主机，不保证该数据报能到达另一端。</li>
<li>应用层负责处理特定的应用程序细节。</li>
</ol>
<ul>
<li>一般来应用层的程序通常是一个用户进程，而下三层一般在操作系统内核中执行。</li>
<li>多个网络通过IP路由器（IP Router）进行连接。从历史来说，路由器也叫做网关，但现在网关这个术语只用来表示应用层网关：一个连接两种不同协议族的进程。</li>
<li>网桥是在链路层上对网络进行互联，而路由器则是在网络层上对网络进行互联。网桥使得多个局域网组合在一起，这样对上层来说就好像是一个局域网。</li>
<li>TCP/IP的每层都是用地址和标识符，用于区分不同协议或相同协议不同关联。链路层接入网络通常使用48位地址；IPv4使用32位地址，IPv6使用128位地址。TCP和UDP传输使用一系列的不同的端口号。</li>
</ul>
<h2 id="互联网的地址">
  互联网的地址
  <a class="anchor" href="#%e4%ba%92%e8%81%94%e7%bd%91%e7%9a%84%e5%9c%b0%e5%9d%80">#</a>
</h2>
<p>通常采用点分十进制数地址。</p>
<h3 id="分类">
  分类
  <a class="anchor" href="#%e5%88%86%e7%b1%bb">#</a>
</h3>
<ul>
<li>A类地址：第一位为0（二进制），网络号长度8位，主机号长度24位。范围0.0.0.0～127.255.255.255。127是一个保留地址。</li>
<li>B类地址：前两位为10（二进制），网络号长度16位，主机号长度16位。范围128.0.0.0～191.255.255.255。</li>
<li>C类地址：前三位为110（二进制），网络号长度24位，主机号长度8位。范围192.0.0.0～223.255.255.255。</li>
<li>D类地址：前四位为1110（二进制），范围224.0.0.0～239.255.255.255，D类地址被保留支持组播。</li>
<li>E类地址：前四位为1111，范围从240.0.0.0～255.255.255.255。E类不用。</li>
</ul>
<h4 id="专用地址">
  专用地址
  <a class="anchor" href="#%e4%b8%93%e7%94%a8%e5%9c%b0%e5%9d%80">#</a>
</h4>
<ol>
<li>10.0.0.0~10.255.255.255</li>
<li>172.16.0.0~172.31.255.255</li>
<li>192.168.0.0~192.168.255.255</li>
<li>0.0.0.0/8：本地网络中的主机，仅作为源IP使用。</li>
<li>127.0.0.1/8：回环地址，通常只用127.0.0.1。</li>
<li>255.255.255.255/32：本地网络（受限）的广播地址。</li>
</ol>
<h3 id="ipv6">
  IPv6
  <a class="anchor" href="#ipv6">#</a>
</h3>
<ul>
<li>IPv6地址的长度是128位，采用16进制表示，每四个16进制数用一个冒号分隔（四个16进制数也称为一个块或字段），一个IPv6地址包含8个块。如<code>5f05:2000:80ad:5800:0058:0800:2023:1d71</code>。</li>
<li>IPv6地址简化写法
<ul>
<li>前导的0必须压缩，如<code>5f05:2000:80ad:5800:58:800:2023:1d71</code>。</li>
<li>全零的块可以省略用符号::表示。<code>::</code>只能用于影响最大的地方（压缩最多的0）。如果多个块中包含等长度的0，则顺序靠前的块被替换为<code>::</code>。如<code>0:0:0:0:0:0:0:1</code>可以简写为<code>::1</code>；<code>2001:0db8:0:0:0:0:0:2 </code>可以简写为<code>2001:db8:2</code>。一个IPv6地址中的<code>::</code>只可以出现一次。</li>
<li>IPv4映射的IPv6地址格式中 紧接着IPv4部分的地址块的值为ffff，地址的其余部分使用点分四组格式。如IPv6地址<code>::ffff:10.0.0.1</code>可以表示为IPv4地址10.0.0.1。</li>
<li>a到f的16进制用小写表示。</li>
</ul>
</li>
<li>在某些情况下，IPv6地址中的冒号可能和其他分隔符混淆（如URL），这种情况下可以使用<code>[</code>和<code>]</code>来包裹IPv6地址。</li>
</ul>
<h3 id="广播地址">
  广播地址
  <a class="anchor" href="#%e5%b9%bf%e6%92%ad%e5%9c%b0%e5%9d%80">#</a>
</h3>
<ul>
<li>在每个IPv4子网中，一个特殊地址被保留作为子网广播地址。子网广播地址通过将IPv4地址中的网络/子网部分设置为适当值，以及主机部分的所有地址设置为1而形成。</li>
<li>子网广播地址的计算方式为：对子网掩码取反，并于子网中任意的计算机的地址（或者网络/子网前缀）进行按位或运算（两个输入为任意一个为1，则结果为1）。</li>
<li>子网128.32.1.0/24的子网广播地址是128.32.1.255，使用这种地址作为目的地址的数据报，也被称为定向广播，定向广播至今在Internet中被禁用。</li>
<li>255.255.255.255的IP地址被保留为本地网络广播，也称有限广播，它不会被路由器转发。</li>
</ul>
<h3 id="组播地址">
  组播地址
  <a class="anchor" href="#%e7%bb%84%e6%92%ad%e5%9c%b0%e5%9d%80">#</a>
</h3>
<ul>
<li>一个IP组播地址标识一组主机接口，一个组所覆盖的网络部分称为组的范围，常见的范围包括同一计算机、同一子网等。</li>
<li>当一台主机向一个组发送数据时，他会创建一个数据报，使用单播IP地址作为源地址，使用组播IP地址作为目的地址，已加入组的所有主机将接收发送到改组的任何数据报。</li>
<li></li>
</ul>
<h2 id="封装">
  封装
  <a class="anchor" href="#%e5%b0%81%e8%a3%85">#</a>
</h2>
<ul>
<li>上层向下层传输数据时，每一层都会对收到的数据增加一些首部信息。</li>
<li>下层向上层传输数据时，会去掉各层协议的报文首部，每层协议都要去检查报文首部中的协议标识，以确定接收数据的上层协议，这个或称被称为分用（Demultiplexing）。</li>
<li>TCP（传输控制协议）传给IP的数据单元被称作TCP报文段或者简称为TCP段（TCP segment），UDP（用户数据报协议）传给IP的信息单元被称为UDP数据报（UDP datagram）。IP传给网络接口层的数据单元是分组（packet）也可以叫做IP数据报，分组既可以是一个IP数据报（IP datagram），也可以是IP数据报的一个片（fragment）。通过以太网传输的比特流称作帧（Frame）。</li>
<li>以太网数据帧的长度必须时46~1500字节之间，以太网帧包含一个48位的目的地址（又称为介质访问控制（MAC））和一个16位的以太网类型字段（指定是IPv4或者IPv6等）。</li>
</ul>
<h2 id="端口号">
  端口号
  <a class="anchor" href="#%e7%ab%af%e5%8f%a3%e5%8f%b7">#</a>
</h2>
<ul>
<li>端口号由16位组成，范围是（0~65535）。每个IP地址有65536个可用的端口号。</li>
<li>标准的端口号由Internet号码分配机构（IANA）分配。这组数字被划分为特定范围，包括熟知端口号（0-1023）、注册端口号（1024-49151）和动态/私有端口号（49152-65535）。类似Linux这样的操作系统绑定到一个熟知端口上需要管理员的权限。</li>
<li>安全外壳协议（SSH，端口22）、FTP协议（端口20、21）、Telnet远程终端控制（端口23）、简单邮件传输协议（SMTP，端口25）、域名系统（DNS，端口53）、交互式邮件访问协议(IMAP和IMAPS，端口143和993)、简单网络管理协议（SNMP，端口161和162）、轻量级目录访问协议（LDAP，端口389）、超文本传输协议（HTTP和HTTPS，端口80和443）。</li>
</ul>
    </p>
  </article>
  
  <article class="markdown book-post">
    <h2>
      <a href="/posts/linux/xwindow/">xwindow</a>
    </h2>
    
  <h5>2021-11-15</h5>



  

  
  <div>
    
      <a href="/tags/linux/">linux</a>
  </div>
  




    <p><ul>
<li>linux上的图形用户接口GUI被称为X或者X11。</li>
<li>X11是一个软件，利用网络构架来进行图形接口的执行与绘制。</li>
</ul>
<h3 id="x11">
  X11
  <a class="anchor" href="#x11">#</a>
</h3>
<ul>
<li>X Server是管理硬件，X Client则是应用程序。X Client应用程序将所想要呈现的画面告诉X Server，X Server将结果透过他管理的硬件绘制出来。</li>
</ul>
<h4 id="x-server-硬件管理屏幕绘制与字符提供功能">
  X Server 硬件管理、屏幕绘制与字符提供功能
  <a class="anchor" href="#x-server-%e7%a1%ac%e4%bb%b6%e7%ae%a1%e7%90%86%e5%b1%8f%e5%b9%95%e7%bb%98%e5%88%b6%e4%b8%8e%e5%ad%97%e7%ac%a6%e6%8f%90%e4%be%9b%e5%8a%9f%e8%83%bd">#</a>
</h4>
<ul>
<li>X Server管理的设备主要与输入/输出有关，包括键盘、鼠标、手写板、显示器、屏幕分辨率与颜色深度、显示是配置与显示的字符等。</li>
<li><strong>每台客户端主机都需要安装X Server，而服务器则是提供X Client软件，以提供客户端绘图所需要的数据。</strong></li>
<li>X Server和X Client的互动并非只有client&ndash;&gt;server，两者实际上是有互动的，X Server会将来自输入设备（键盘、鼠标等）的动作告知X Client。</li>
</ul>
<h4 id="x-client-负责x-server要求的事件处理">
  X Client 负责X Server要求的事件处理
  <a class="anchor" href="#x-client-%e8%b4%9f%e8%b4%a3x-server%e8%a6%81%e6%b1%82%e7%9a%84%e4%ba%8b%e4%bb%b6%e5%a4%84%e7%90%86">#</a>
</h4>
<ul>
<li>X Client也可以叫X Application。</li>
<li>X Server管理显示接口与在屏幕上绘图，同时将输入设备的行为告知X Client，此时X Client会依据这个输入设备的行为来开始处理，再将结果传回X Server，X Server再根据X Client传回来的绘图资料将它描述在自己的屏幕上，来得到显示的结果。</li>
</ul>
<h4 id="x-window-manager-特殊的x-client负责管理所有的x-client">
  X Window Manager 特殊的X Client，负责管理所有的X Client
  <a class="anchor" href="#x-window-manager-%e7%89%b9%e6%ae%8a%e7%9a%84x-client%e8%b4%9f%e8%b4%a3%e7%ae%a1%e7%90%86%e6%89%80%e6%9c%89%e7%9a%84x-client">#</a>
</h4>
<ul>
<li>窗口管理员提供许多的控制元素，包括任务栏、桌面背景的设定等等；管理虚拟桌面；提供窗口控制参数，包括窗口的大小、窗口的重叠显示、窗口的移动、窗口的最小化等等。</li>
</ul>
<h4 id="display-manager-提供登入需求">
  Display Manager 提供登入需求
  <a class="anchor" href="#display-manager-%e6%8f%90%e4%be%9b%e7%99%bb%e5%85%a5%e9%9c%80%e6%b1%82">#</a>
</h4>
<ul>
<li>gdm全称GNOME Display Manager；一般通过图形界面登入系统的那个登录界面就是Display Manager。</li>
</ul>
<h4 id="x-window的启动">
  X Window的启动
  <a class="anchor" href="#x-window%e7%9a%84%e5%90%af%e5%8a%a8">#</a>
</h4>
<ul>
<li>通过startx启动：<code>startx [X client参数] -- [X server参数]</code>，startx是一个shell脚本。
<ul>
<li>startx最重要的任务是找出用户或者系统默认的X server和X client配置文件，它可以直接启动，也可以外接参数启动。</li>
<li>startx的X server参数的优先级如下：①通过命令行传递的参数；②~/.xserverc；③/etc/X11/xinit/xserverrc；④单纯执行/usr/bin/X（X server执行文件）。</li>
<li>startx的X client参数优先级如下：①startx后面跟的参数；②~/.xinitrc；③/etc/X11/xinit/xinitrc；④单纯执行xterm。</li>
<li>当startx找到需要的设定值后，就呼叫xinit来启动X。<code>xinit [client option] -- [server or display option]</code>。</li>
<li>当单纯执行xinit的时候，默认执行的命令为<code>xinit xterm -geogmetry _1_1 -n login -display :0 -- X :0</code>。-display:0表示这个虚拟机是第:0号的X显示接口。一般会使用startx来启动xwindow，因为startx会自动找到对应的参数。</li>
</ul>
</li>
<li>xserverrc
<ul>
<li>在启动X server时，Xorg会去读取/etc/X11/xorg.conf这个配置文件。linux通过执行<code>X</code>来启动X server，linux可以同时启动多个X，第一个X的画面在:0即tty2，第二个X是:1即tty3。</li>
</ul>
</li>
<li>在文字接口下启动X时，直接使用startx来找到X Server和X client的参数或者配置文件，然后再呼叫xinit来启动X窗口系统。xinit现在如X server到预设的:0这个显示接口，然后再加载X client到这个X显示接口上。X client通常就是GNOME或者KDE。</li>
<li>X Server理论上要启动一个6000端口来和X client通信，但是在同一台机器上时，会使用socket来通信。在X Window System环境下，我们称port 6000为第0个显示接口，即hostname:0，可以简写为:0。</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-sh" data-lang="sh"><span style="display:flex;"><span><span style="color:#75715e">#X启动</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#启动X server，这个时候会跳转到tty2（也可能是别的，下面以tty2举例），但是啥都没有，用ctrl+alt+F1跳回到tty1</span>
</span></span><span style="display:flex;"><span>X :1 &amp;
</span></span><span style="display:flex;"><span><span style="color:#75715e">#启动X Client，这个时候tty2会变白，通过ctrl+alt+F2跳到tty2</span>
</span></span><span style="display:flex;"><span>xterm -display :1 &amp;
</span></span><span style="display:flex;"><span><span style="color:#75715e">#在tty2执行</span>
</span></span><span style="display:flex;"><span>xclock -display :1 &amp;
</span></span><span style="display:flex;"><span>xeyes -display :1 &amp;
</span></span><span style="display:flex;"><span><span style="color:#75715e">#切换到tty1，安装twm</span>
</span></span><span style="display:flex;"><span>apt install twm
</span></span><span style="display:flex;"><span><span style="color:#75715e">#启动twm，再切换到tty2就能拖动窗口了</span>
</span></span><span style="display:flex;"><span>twm -display :1 &amp;
</span></span></code></pre></div>
    </p>
  </article>
  
  <article class="markdown book-post">
    <h2>
      <a href="/posts/javaee/mybatis%E9%85%8D%E7%BD%AE/">mybatis配置</a>
    </h2>
    
  <h5>2021-11-02</h5>



  

  
  <div>
    
      <a href="/tags/java/">java</a>
  </div>
  




    <p><h3 id="总览">
  总览
  <a class="anchor" href="#%e6%80%bb%e8%a7%88">#</a>
</h3>
<ul>
<li><code>configuration</code> 配置
<ul>
<li><code>properties</code> 属性</li>
<li><code>settings</code> 设置</li>
<li><code>typeAliases</code> 类型别名</li>
<li><code>typeHandlers</code> 类型处理器</li>
<li><code>objectFactory</code> 对象工厂</li>
<li><code>plugins</code> 插件</li>
<li><code>environments</code> 环境变量
<ul>
<li><code>environment</code>
<ul>
<li><code>transactionManager</code> 事务管理器</li>
<li><code>dataSource</code> 数据源</li>
</ul>
</li>
</ul>
</li>
<li><code>databaseIdProvider</code> 数据库标识</li>
<li><code>mappers</code> 映射器</li>
</ul>
</li>
</ul>
<h3 id="属性properties">
  属性properties
  <a class="anchor" href="#%e5%b1%9e%e6%80%a7properties">#</a>
</h3>
<ul>
<li>设置好的属性可以在整个配置文件中使用。</li>
<li>通过方法参数传递的属性优先级最高，resource/url属性中指定的位置文件次之，properties元素中指定的属性优先级最低。</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-xml" data-lang="xml"><span style="display:flex;"><span><span style="color:#f92672">&lt;properties</span> <span style="color:#a6e22e">resource=</span><span style="color:#e6db74">&#34;org/mybatis/example/config.properties&#34;</span><span style="color:#f92672">&gt;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&lt;property</span> <span style="color:#a6e22e">name=</span><span style="color:#e6db74">&#34;username&#34;</span> <span style="color:#a6e22e">value=</span><span style="color:#e6db74">&#34;dev_user&#34;</span><span style="color:#f92672">/&gt;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#75715e">&lt;!-- 启用默认值设置，使用方式为${username:prod_user} --&gt;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&lt;property</span> <span style="color:#a6e22e">name=</span><span style="color:#e6db74">&#34;org.apache.ibatis.parsing.PropertyParser.enable-default-value&#34;</span> <span style="color:#a6e22e">value=</span><span style="color:#e6db74">&#34;true&#34;</span><span style="color:#f92672">/&gt;</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;/properties&gt;</span>
</span></span></code></pre></div><h3 id="类型别名typealiases">
  类型别名typeAliases
  <a class="anchor" href="#%e7%b1%bb%e5%9e%8b%e5%88%ab%e5%90%8dtypealiases">#</a>
</h3>
<ul>
<li>指定类型别名</li>
<li>内建的一些类型别名，如：string、long、integer、float、map、arraylist、date等</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-xml" data-lang="xml"><span style="display:flex;"><span><span style="color:#f92672">&lt;typeAliases&gt;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&lt;typeAlias</span> <span style="color:#a6e22e">alias=</span><span style="color:#e6db74">&#34;author&#34;</span> <span style="color:#a6e22e">type=</span><span style="color:#e6db74">&#34;domain.blog.Author&#34;</span><span style="color:#f92672">/&gt;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#75715e">&lt;!-- 每一个在包domain.blog中的类，会默认使用该类的首字母小写的类名作为它的别名 --&gt;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&lt;package</span> <span style="color:#a6e22e">name=</span><span style="color:#e6db74">&#34;domain.blog&#34;</span><span style="color:#f92672">/&gt;</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;/typeAliases&gt;</span>
</span></span></code></pre></div><h3 id="环境变量environments">
  环境变量environments
  <a class="anchor" href="#%e7%8e%af%e5%a2%83%e5%8f%98%e9%87%8fenvironments">#</a>
</h3>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-xml" data-lang="xml"><span style="display:flex;"><span><span style="color:#f92672">&lt;environments</span> <span style="color:#a6e22e">default=</span><span style="color:#e6db74">&#34;development&#34;</span><span style="color:#f92672">&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">&lt;!--  type用来指定数据源，内建了三种数据源UNPOOLED|POOLED|JNDI，可以通过实现接口DataSourceFactory来使用第三方数据源 --&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&lt;dataSource</span> <span style="color:#a6e22e">type=</span><span style="color:#e6db74">&#34;&#34;</span><span style="color:#f92672">&gt;</span>
</span></span><span style="display:flex;"><span>      <span style="color:#f92672">&lt;property</span> <span style="color:#a6e22e">name=</span><span style="color:#e6db74">&#34;driver&#34;</span> <span style="color:#a6e22e">value=</span><span style="color:#e6db74">&#34;${driver}&#34;</span><span style="color:#f92672">/&gt;</span>
</span></span><span style="display:flex;"><span>      <span style="color:#f92672">&lt;property</span> <span style="color:#a6e22e">name=</span><span style="color:#e6db74">&#34;url&#34;</span> <span style="color:#a6e22e">value=</span><span style="color:#e6db74">&#34;${url}&#34;</span><span style="color:#f92672">/&gt;</span>
</span></span><span style="display:flex;"><span>      <span style="color:#f92672">&lt;property</span> <span style="color:#a6e22e">name=</span><span style="color:#e6db74">&#34;username&#34;</span> <span style="color:#a6e22e">value=</span><span style="color:#e6db74">&#34;${username}&#34;</span><span style="color:#f92672">/&gt;</span>
</span></span><span style="display:flex;"><span>      <span style="color:#f92672">&lt;property</span> <span style="color:#a6e22e">name=</span><span style="color:#e6db74">&#34;password&#34;</span> <span style="color:#a6e22e">value=</span><span style="color:#e6db74">&#34;${password}&#34;</span><span style="color:#f92672">/&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&lt;/dataSource&gt;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&lt;/environment&gt;</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;/environments&gt;</span>
</span></span></code></pre></div><h3 id="数据库标识databaseidprovider">
  数据库标识databaseIdProvider
  <a class="anchor" href="#%e6%95%b0%e6%8d%ae%e5%ba%93%e6%a0%87%e8%af%86databaseidprovider">#</a>
</h3>
<ul>
<li>mybatis可以根据不同的数据库厂商执行不同的语句。</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-xml" data-lang="xml"><span style="display:flex;"><span><span style="color:#f92672">&lt;databaseIdProvider</span> <span style="color:#a6e22e">type=</span><span style="color:#e6db74">&#34;DB_VENDOR&#34;</span><span style="color:#f92672">&gt;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&lt;property</span> <span style="color:#a6e22e">name=</span><span style="color:#e6db74">&#34;SQL Server&#34;</span> <span style="color:#a6e22e">value=</span><span style="color:#e6db74">&#34;sqlserver&#34;</span><span style="color:#f92672">/&gt;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&lt;property</span> <span style="color:#a6e22e">name=</span><span style="color:#e6db74">&#34;DB2&#34;</span> <span style="color:#a6e22e">value=</span><span style="color:#e6db74">&#34;db2&#34;</span><span style="color:#f92672">/&gt;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&lt;property</span> <span style="color:#a6e22e">name=</span><span style="color:#e6db74">&#34;MySQL&#34;</span> <span style="color:#a6e22e">value=</span><span style="color:#e6db74">&#34;mysql&#34;</span> <span style="color:#f92672">/&gt;</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;/databaseIdProvider&gt;</span>
</span></span></code></pre></div><ul>
<li>使用方式</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-xml" data-lang="xml"><span style="display:flex;"><span><span style="color:#f92672">&lt;select</span> <span style="color:#a6e22e">id=</span><span style="color:#e6db74">&#34;select&#34;</span> <span style="color:#a6e22e">resultType=</span><span style="color:#e6db74">&#34;map&#34;</span> <span style="color:#a6e22e">databaseId=</span><span style="color:#e6db74">&#34;mysql&#34;</span><span style="color:#f92672">&gt;</span>
</span></span><span style="display:flex;"><span>	select * from mysql
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;/select&gt;</span>
</span></span></code></pre></div><h3 id="映射器">
  映射器
  <a class="anchor" href="#%e6%98%a0%e5%b0%84%e5%99%a8">#</a>
</h3>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-xml" data-lang="xml"><span style="display:flex;"><span><span style="color:#f92672">&lt;mappers&gt;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&lt;mapper</span> <span style="color:#a6e22e">resource=</span><span style="color:#e6db74">&#34;org/mybatis/builder/AuthorMapper.xml&#34;</span><span style="color:#f92672">/&gt;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&lt;mapper</span> <span style="color:#a6e22e">url=</span><span style="color:#e6db74">&#34;file:///var/mappers/PostMapper.xml&#34;</span><span style="color:#f92672">/&gt;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&lt;mapper</span> <span style="color:#a6e22e">class=</span><span style="color:#e6db74">&#34;org.mybatis.builder.PostMapper&#34;</span><span style="color:#f92672">/&gt;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&lt;package</span> <span style="color:#a6e22e">name=</span><span style="color:#e6db74">&#34;org.mybatis.builder&#34;</span><span style="color:#f92672">/&gt;</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;/mappers&gt;</span>
</span></span></code></pre></div>
    </p>
  </article>
  

  
    <ul class="pagination pagination-default">
      <li class="page-item">
        <a href="/posts/" aria-label="First" class="page-link" role="button"><span aria-hidden="true">&laquo;&laquo;</span></a>
      </li>
      <li class="page-item">
        <a href="/posts/page/4/" aria-label="Previous" class="page-link" role="button"><span aria-hidden="true">&laquo;</span></a>
      </li>
      <li class="page-item">
        <a href="/posts/page/3/" aria-label="Page 3" class="page-link" role="button">3</a>
      </li>
      <li class="page-item">
        <a href="/posts/page/4/" aria-label="Page 4" class="page-link" role="button">4</a>
      </li>
      <li class="page-item active">
        <a aria-current="page" aria-label="Page 5" class="page-link" role="button">5</a>
      </li>
      <li class="page-item">
        <a href="/posts/page/6/" aria-label="Page 6" class="page-link" role="button">6</a>
      </li>
      <li class="page-item">
        <a href="/posts/page/7/" aria-label="Page 7" class="page-link" role="button">7</a>
      </li>
      <li class="page-item">
        <a href="/posts/page/6/" aria-label="Next" class="page-link" role="button"><span aria-hidden="true">&raquo;</span></a>
      </li>
      <li class="page-item">
        <a href="/posts/page/19/" aria-label="Last" class="page-link" role="button"><span aria-hidden="true">&raquo;&raquo;</span></a>
      </li>
    </ul>
 
	    </div>

      <footer class="page-footer">
        
  


 
      </footer>
    </div>

  </main>

</body>
</html>











